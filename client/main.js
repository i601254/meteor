import { Template } from 'meteor/templating';
import { ReactiveVar } from 'meteor/reactive-var';
import { Locations } from '../imports/api/locations.js';
import './main.html';

Meteor.call("getSessionId", function(err, id) {
  sessId = id;
});

Template.body.helpers({
  locations() {
    return Locations.find({});
  },
});

// Submit button pressed
Template.getAddressForm.events({
  'submit form': function(event){
    event.preventDefault();
   // var installAddress = event.target.installAddress.value;
   
    var addresses = [
       "703 16th Street, New Cumberland PA 17070",
       "542 Industrial Drive, Lewisberry PA 17339",
       "1113 Musket Lane, Mechanicsburg PA 17055"
    ];

    var addr = JSON.stringify(addresses);

    var options = {
    url: 'http://54.167.129.81/street2coordinates',   // my AWS DSTK server
    method: 'POST',
    headers: 'Content-Type: application/json',
    data: addr
    };
   
    Meteor.call('plotMap', options, function(error, result){
       if (error) {
         console.log(error);
       }else{
//         Session.set(sessId, result);
//	 var serviceMap = Session.get(sessId)
//         console.log(sessId);
           console.log(result);
// 	   console.log((result).properties.name);
//           console.log((result).geometry.coordinates[1]);
           Locations.insert(result);
       }
    });

  }
});

Meteor.subscribe('jobs');

Template.map.rendered = function() {
  L.Icon.Default.imagePath = 'packages/bevanhunt_leaflet/images';
 
  var map = L.map('map', {
  doubleClickZoom: false
}).setView([40.1668141, -76.8388169], 10);

  var mileTometer = 1609.34;
 
  var redMarker = L.AwesomeMarkers.icon({
    icon: 'flag',
    prefix: 'ion',
    markerColor: 'red'
  });

  var blueMarker = L.AwesomeMarkers.icon({
    markerColor: 'orange'
  });

/// Geojson functions with Leaflet

function onEachFeature(feature, layer){
  if (feature.properties && feature.properties.popupContent) {
    layer.bindPopup(feature.properties.popupContent);
  }
}

//  var geojsonFeature = {
//    "type": "Feature",
//    "properties": {
//      "name": "Coors Field",
//      "amenity": "Baseball Stadium",
//      "popupContent": "This is where the Rockies play!"
//  },
//  "geometry": {
//    "type": "Point",
//    "coordinates": [-104.99404, 39.75621]
//   }
//  };


// Added from Brad's Zone Map - converted from .gpx to geoJSON

//var tj = NPM.require('togeojson'),
//    fs = NPM.require('fs'),
    // node doesn't have xml parsing or a dom. use jsdom
//    jsdom = NPM.require('jsdom').jsdom;
//var gpx = jsdom(fs.readFileSync('assets/office_locations.gpx', 'utf8'));
//var geojsonFeature = tj.kml(gpx);
 
var geojsonFeature =
{
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "name": "TK1118"
            },
            "geometry": {
                "type": "LineString",
                "coordinates": [
                    [
                        -77.463548,
                        39.708634
                    ],
                    [
                        -77.484943,
                        39.705874
                    ],
                    [
                        -77.48608,
                        39.704211
                    ],
                    [
                        -77.485567,
                        39.698084
                    ],
                    [
                        -77.486079,
                        39.697206
                    ],
                    [
                        -77.48659,
                        39.695326
                    ],
                    [
                        -77.486931,
                        39.69432
                    ],
                    [
                        -77.490629,
                        39.689984
                    ],
                    [
                        -77.492938,
                        39.688272
                    ],
                    [
                        -77.49343,
                        39.685369
                    ],
                    [
                        -77.495726,
                        39.681452
                    ],
                    [
                        -77.49256,
                        39.676996
                    ],
                    [
                        -77.496343,
                        39.672452
                    ],
                    [
                        -77.497364,
                        39.668065
                    ],
                    [
                        -77.503926,
                        39.664905
                    ],
                    [
                        -77.504444,
                        39.663685
                    ],
                    [
                        -77.504745,
                        39.661623
                    ],
                    [
                        -77.508722,
                        39.658484
                    ],
                    [
                        -77.511565,
                        39.655156
                    ],
                    [
                        -77.512929,
                        39.652441
                    ],
                    [
                        -77.513042,
                        39.650079
                    ],
                    [
                        -77.51594,
                        39.647135
                    ],
                    [
                        -77.520941,
                        39.639475
                    ],
                    [
                        -77.523101,
                        39.636847
                    ],
                    [
                        -77.522077,
                        39.636453
                    ],
                    [
                        -77.520259,
                        39.63755
                    ],
                    [
                        -77.515939,
                        39.638424
                    ],
                    [
                        -77.512926,
                        39.637988
                    ],
                    [
                        -77.507242,
                        39.636588
                    ],
                    [
                        -77.504286,
                        39.636239
                    ],
                    [
                        -77.500135,
                        39.636544
                    ],
                    [
                        -77.493088,
                        39.635139
                    ],
                    [
                        -77.489565,
                        39.635095
                    ],
                    [
                        -77.489818,
                        39.621193
                    ],
                    [
                        -77.489817,
                        39.620014
                    ],
                    [
                        -77.488907,
                        39.618743
                    ],
                    [
                        -77.486975,
                        39.617607
                    ],
                    [
                        -77.486192,
                        39.615115
                    ],
                    [
                        -77.486419,
                        39.613538
                    ],
                    [
                        -77.501988,
                        39.611043
                    ],
                    [
                        -77.508202,
                        39.61124
                    ],
                    [
                        -77.512462,
                        39.610585
                    ],
                    [
                        -77.51644,
                        39.610058
                    ],
                    [
                        -77.51996,
                        39.605816
                    ],
                    [
                        -77.522347,
                        39.604149
                    ],
                    [
                        -77.524961,
                        39.601696
                    ],
                    [
                        -77.526105,
                        39.597395
                    ],
                    [
                        -77.531724,
                        39.585881
                    ],
                    [
                        -77.544908,
                        39.587281
                    ],
                    [
                        -77.546157,
                        39.586628
                    ],
                    [
                        -77.548542,
                        39.583519
                    ],
                    [
                        -77.549507,
                        39.582075
                    ],
                    [
                        -77.555752,
                        39.578002
                    ],
                    [
                        -77.558459,
                        39.578416
                    ],
                    [
                        -77.562208,
                        39.581304
                    ],
                    [
                        -77.565559,
                        39.581436
                    ],
                    [
                        -77.567604,
                        39.58218
                    ],
                    [
                        -77.568171,
                        39.583581
                    ],
                    [
                        -77.569137,
                        39.584327
                    ],
                    [
                        -77.571465,
                        39.584634
                    ],
                    [
                        -77.580897,
                        39.590804
                    ],
                    [
                        -77.583053,
                        39.586513
                    ],
                    [
                        -77.585438,
                        39.583403
                    ],
                    [
                        -77.584471,
                        39.581084
                    ],
                    [
                        -77.584949,
                        39.578202
                    ],
                    [
                        -77.586538,
                        39.573122
                    ],
                    [
                        -77.586368,
                        39.571807
                    ],
                    [
                        -77.587958,
                        39.569969
                    ],
                    [
                        -77.589376,
                        39.567343
                    ],
                    [
                        -77.591137,
                        39.565373
                    ],
                    [
                        -77.593686,
                        39.564139
                    ],
                    [
                        -77.594652,
                        39.563133
                    ],
                    [
                        -77.594537,
                        39.562301
                    ],
                    [
                        -77.593742,
                        39.56099
                    ],
                    [
                        -77.594423,
                        39.55858
                    ],
                    [
                        -77.594026,
                        39.556785
                    ],
                    [
                        -77.594422,
                        39.553591
                    ],
                    [
                        -77.595509,
                        39.551021
                    ],
                    [
                        -77.596986,
                        39.550235
                    ],
                    [
                        -77.598405,
                        39.550365
                    ],
                    [
                        -77.5992,
                        39.550364
                    ],
                    [
                        -77.599028,
                        39.549007
                    ],
                    [
                        -77.597893,
                        39.547345
                    ],
                    [
                        -77.597837,
                        39.544585
                    ],
                    [
                        -77.5967,
                        39.542574
                    ],
                    [
                        -77.597467,
                        39.540584
                    ],
                    [
                        -77.601385,
                        39.53962
                    ],
                    [
                        -77.603087,
                        39.538614
                    ],
                    [
                        -77.604505,
                        39.537213
                    ],
                    [
                        -77.607343,
                        39.535241
                    ],
                    [
                        -77.608818,
                        39.533362
                    ],
                    [
                        -77.609499,
                        39.532048
                    ],
                    [
                        -77.610577,
                        39.530383
                    ],
                    [
                        -77.613016,
                        39.529509
                    ],
                    [
                        -77.612847,
                        39.527625
                    ],
                    [
                        -77.614353,
                        39.525936
                    ],
                    [
                        -77.613898,
                        39.523923
                    ],
                    [
                        -77.614068,
                        39.522303
                    ],
                    [
                        -77.617706,
                        39.518052
                    ],
                    [
                        -77.619675,
                        39.51316
                    ],
                    [
                        -77.619534,
                        39.511638
                    ],
                    [
                        -77.622208,
                        39.507615
                    ],
                    [
                        -77.620517,
                        39.505657
                    ],
                    [
                        -77.621079,
                        39.503377
                    ],
                    [
                        -77.623189,
                        39.500333
                    ],
                    [
                        -77.61431,
                        39.49142
                    ],
                    [
                        -77.618391,
                        39.48566
                    ],
                    [
                        -77.621347,
                        39.483486
                    ],
                    [
                        -77.62191,
                        39.480875
                    ],
                    [
                        -77.6205,
                        39.476964
                    ],
                    [
                        -77.617682,
                        39.474682
                    ],
                    [
                        -77.616046,
                        39.468353
                    ],
                    [
                        -77.618361,
                        39.466473
                    ],
                    [
                        -77.621043,
                        39.465154
                    ],
                    [
                        -77.621895,
                        39.463554
                    ],
                    [
                        -77.621649,
                        39.459977
                    ],
                    [
                        -77.622381,
                        39.459036
                    ],
                    [
                        -77.626281,
                        39.457528
                    ],
                    [
                        -77.627984,
                        39.452635
                    ],
                    [
                        -77.626519,
                        39.448119
                    ],
                    [
                        -77.630297,
                        39.448399
                    ],
                    [
                        -77.634438,
                        39.445951
                    ],
                    [
                        -77.635288,
                        39.441528
                    ],
                    [
                        -77.638088,
                        39.435502
                    ],
                    [
                        -77.637727,
                        39.431284
                    ],
                    [
                        -77.638091,
                        39.427987
                    ],
                    [
                        -77.637602,
                        39.426012
                    ],
                    [
                        -77.638451,
                        39.421121
                    ],
                    [
                        -77.638926,
                        39.418674
                    ],
                    [
                        -77.640507,
                        39.415757
                    ],
                    [
                        -77.640261,
                        39.409451
                    ],
                    [
                        -77.639285,
                        39.407003
                    ],
                    [
                        -77.641837,
                        39.398346
                    ],
                    [
                        -77.652924,
                        39.370564
                    ],
                    [
                        -77.642031,
                        39.366497
                    ],
                    [
                        -77.635136,
                        39.36799
                    ],
                    [
                        -77.599139,
                        39.35581
                    ],
                    [
                        -77.588453,
                        39.353717
                    ],
                    [
                        -77.56926,
                        39.33343
                    ],
                    [
                        -77.566592,
                        39.320918
                    ],
                    [
                        -77.569751,
                        39.311667
                    ],
                    [
                        -77.568185,
                        39.30653
                    ],
                    [
                        -77.566381,
                        39.305949
                    ],
                    [
                        -77.564726,
                        39.3049
                    ],
                    [
                        -77.562921,
                        39.303389
                    ],
                    [
                        -77.561643,
                        39.301296
                    ],
                    [
                        -77.561567,
                        39.299839
                    ],
                    [
                        -77.562243,
                        39.298674
                    ],
                    [
                        -77.562394,
                        39.296988
                    ],
                    [
                        -77.562883,
                        39.294101
                    ],
                    [
                        -77.561604,
                        39.292937
                    ],
                    [
                        -77.561904,
                        39.291018
                    ],
                    [
                        -77.561678,
                        39.288864
                    ],
                    [
                        -77.561603,
                        39.287818
                    ],
                    [
                        -77.560625,
                        39.286013
                    ],
                    [
                        -77.531155,
                        39.286711
                    ],
                    [
                        -77.498866,
                        39.304481
                    ],
                    [
                        -77.495331,
                        39.305589
                    ],
                    [
                        -77.48736,
                        39.308846
                    ],
                    [
                        -77.487867,
                        39.320893
                    ],
                    [
                        -77.45659,
                        39.325907
                    ],
                    [
                        -77.4229,
                        39.330538
                    ],
                    [
                        -77.403191,
                        39.32978
                    ],
                    [
                        -77.382453,
                        39.328918
                    ],
                    [
                        -77.388862,
                        39.313246
                    ],
                    [
                        -77.391494,
                        39.311034
                    ],
                    [
                        -77.402773,
                        39.307713
                    ],
                    [
                        -77.391477,
                        39.299777
                    ],
                    [
                        -77.359294,
                        39.283721
                    ],
                    [
                        -77.347492,
                        39.28593
                    ],
                    [
                        -77.326029,
                        39.28086
                    ],
                    [
                        -77.317624,
                        39.28483
                    ],
                    [
                        -77.308063,
                        39.289083
                    ],
                    [
                        -77.30718,
                        39.294079
                    ],
                    [
                        -77.30302,
                        39.306682
                    ],
                    [
                        -77.299174,
                        39.308803
                    ],
                    [
                        -77.288021,
                        39.314486
                    ],
                    [
                        -77.27913,
                        39.302456
                    ],
                    [
                        -77.232798,
                        39.324445
                    ],
                    [
                        -77.216557,
                        39.332054
                    ],
                    [
                        -77.182142,
                        39.318045
                    ],
                    [
                        -77.166031,
                        39.309158
                    ],
                    [
                        -77.151993,
                        39.300101
                    ],
                    [
                        -77.160967,
                        39.289613
                    ],
                    [
                        -77.147017,
                        39.275136
                    ],
                    [
                        -77.134046,
                        39.270692
                    ],
                    [
                        -77.114574,
                        39.264831
                    ],
                    [
                        -77.097352,
                        39.264342
                    ],
                    [
                        -77.079918,
                        39.258992
                    ],
                    [
                        -77.071942,
                        39.268617
                    ],
                    [
                        -77.024443,
                        39.294798
                    ],
                    [
                        -77.031408,
                        39.315708
                    ],
                    [
                        -77.02825,
                        39.319983
                    ],
                    [
                        -77.023571,
                        39.325754
                    ],
                    [
                        -77.013766,
                        39.337703
                    ],
                    [
                        -77.017977,
                        39.348628
                    ],
                    [
                        -77.015432,
                        39.353512
                    ],
                    [
                        -77.010295,
                        39.354618
                    ],
                    [
                        -77.010199,
                        39.360253
                    ],
                    [
                        -77.01852,
                        39.38841
                    ],
                    [
                        -77.052927,
                        39.407968
                    ],
                    [
                        -77.04875,
                        39.419775
                    ],
                    [
                        -77.052552,
                        39.434371
                    ],
                    [
                        -77.066337,
                        39.439898
                    ],
                    [
                        -77.071784,
                        39.440035
                    ],
                    [
                        -77.087641,
                        39.458154
                    ],
                    [
                        -77.090487,
                        39.47569
                    ],
                    [
                        -77.090782,
                        39.486199
                    ],
                    [
                        -77.073532,
                        39.493467
                    ],
                    [
                        -77.042579,
                        39.511367
                    ],
                    [
                        -77.043962,
                        39.520263
                    ],
                    [
                        -77.034532,
                        39.529816
                    ],
                    [
                        -77.033922,
                        39.541669
                    ],
                    [
                        -77.038793,
                        39.542658
                    ],
                    [
                        -77.039273,
                        39.545181
                    ],
                    [
                        -77.045184,
                        39.550232
                    ],
                    [
                        -77.045702,
                        39.553465
                    ],
                    [
                        -77.056208,
                        39.553928
                    ],
                    [
                        -77.066051,
                        39.566611
                    ],
                    [
                        -77.092477,
                        39.568478
                    ],
                    [
                        -77.118621,
                        39.592692
                    ],
                    [
                        -77.104626,
                        39.622976
                    ],
                    [
                        -77.107172,
                        39.628598
                    ],
                    [
                        -77.110068,
                        39.644446
                    ],
                    [
                        -77.108657,
                        39.651269
                    ],
                    [
                        -77.10577,
                        39.665018
                    ],
                    [
                        -77.103207,
                        39.667631
                    ],
                    [
                        -77.092224,
                        39.668478
                    ],
                    [
                        -77.090062,
                        39.677288
                    ],
                    [
                        -77.084009,
                        39.68707
                    ],
                    [
                        -77.072041,
                        39.698957
                    ],
                    [
                        -77.066235,
                        39.712182
                    ],
                    [
                        -77.067963,
                        39.720151
                    ],
                    [
                        -77.470595,
                        39.719982
                    ],
                    [
                        -77.468091,
                        39.718757
                    ],
                    [
                        -77.465473,
                        39.71775
                    ],
                    [
                        -77.463026,
                        39.715343
                    ],
                    [
                        -77.462856,
                        39.713766
                    ],
                    [
                        -77.463368,
                        39.710704
                    ],
                    [
                        -77.463548,
                        39.708634
                    ]
                ]
            }
        },
        
        {
            "type": "Feature",
            "properties": {
                "name": "TK1029"
            },
            "geometry": {
                "type": "LineString",
                "coordinates": [
                    [
                        -91.685387,
                        40.579034
                    ],
                    [
                        -91.685968,
                        40.57637
                    ],
                    [
                        -91.688098,
                        40.572358
                    ],
                    [
                        -91.6907,
                        40.567084
                    ],
                    [
                        -91.691567,
                        40.565188
                    ],
                    [
                        -91.691567,
                        40.563708
                    ],
                    [
                        -91.691631,
                        40.561641
                    ],
                    [
                        -91.68946,
                        40.558181
                    ],
                    [
                        -91.686531,
                        40.555706
                    ],
                    [
                        -91.681867,
                        40.553071
                    ],
                    [
                        -91.676227,
                        40.551835
                    ],
                    [
                        -91.668852,
                        40.550597
                    ],
                    [
                        -91.661972,
                        40.550039
                    ],
                    [
                        -91.654302,
                        40.549318
                    ],
                    [
                        -91.64529,
                        40.547018
                    ],
                    [
                        -91.637944,
                        40.545353
                    ],
                    [
                        -91.63181,
                        40.544721
                    ],
                    [
                        -91.625525,
                        40.543686
                    ],
                    [
                        -91.621588,
                        40.542191
                    ],
                    [
                        -91.619619,
                        40.540464
                    ],
                    [
                        -91.618786,
                        40.538105
                    ],
                    [
                        -91.618029,
                        40.533099
                    ],
                    [
                        -91.618705,
                        40.526403
                    ],
                    [
                        -91.620445,
                        40.521914
                    ],
                    [
                        -91.622388,
                        40.516227
                    ],
                    [
                        -91.622236,
                        40.513523
                    ],
                    [
                        -91.621024,
                        40.50921
                    ],
                    [
                        -91.619434,
                        40.506964
                    ],
                    [
                        -91.617088,
                        40.504836
                    ],
                    [
                        -91.612964,
                        40.502471
                    ],
                    [
                        -91.606152,
                        40.49925
                    ],
                    [
                        -91.596238,
                        40.495742
                    ],
                    [
                        -91.593817,
                        40.494419
                    ],
                    [
                        -91.590563,
                        40.492176
                    ],
                    [
                        -91.588822,
                        40.490336
                    ],
                    [
                        -91.586401,
                        40.486249
                    ],
                    [
                        -91.584065,
                        40.48122
                    ],
                    [
                        -91.582323,
                        40.474087
                    ],
                    [
                        -91.580886,
                        40.47184
                    ],
                    [
                        -91.578735,
                        40.469188
                    ],
                    [
                        -91.573439,
                        40.464816
                    ],
                    [
                        -91.567614,
                        40.462171
                    ],
                    [
                        -91.564135,
                        40.461019
                    ],
                    [
                        -91.548329,
                        40.458202
                    ],
                    [
                        -91.544321,
                        40.458086
                    ],
                    [
                        -91.538272,
                        40.458433
                    ],
                    [
                        -91.533583,
                        40.459008
                    ],
                    [
                        -91.527382,
                        40.458949
                    ],
                    [
                        -91.524876,
                        40.458159
                    ],
                    [
                        -91.523378,
                        40.455503
                    ],
                    [
                        -91.523079,
                        40.450868
                    ],
                    [
                        -91.524377,
                        40.44798
                    ],
                    [
                        -91.526574,
                        40.446308
                    ],
                    [
                        -91.529769,
                        40.444409
                    ],
                    [
                        -91.532465,
                        40.442206
                    ],
                    [
                        -91.533662,
                        40.440154
                    ],
                    [
                        -91.533463,
                        40.437952
                    ],
                    [
                        -91.531637,
                        40.435955
                    ],
                    [
                        -91.530368,
                        40.435062
                    ],
                    [
                        -91.5284,
                        40.433986
                    ],
                    [
                        -91.52484,
                        40.433432
                    ],
                    [
                        -91.522089,
                        40.43374
                    ],
                    [
                        -91.519823,
                        40.433554
                    ],
                    [
                        -91.518852,
                        40.432446
                    ],
                    [
                        -91.518933,
                        40.431028
                    ],
                    [
                        -91.521361,
                        40.426533
                    ],
                    [
                        -91.525487,
                        40.421482
                    ],
                    [
                        -91.526781,
                        40.41914
                    ],
                    [
                        -91.527216,
                        40.417265
                    ],
                    [
                        -91.526892,
                        40.415605
                    ],
                    [
                        -91.526568,
                        40.413633
                    ],
                    [
                        -91.52487,
                        40.411106
                    ],
                    [
                        -91.522119,
                        40.409447
                    ],
                    [
                        -91.517509,
                        40.408522
                    ],
                    [
                        -91.513949,
                        40.408522
                    ],
                    [
                        -91.509582,
                        40.406917
                    ],
                    [
                        -91.507883,
                        40.405931
                    ],
                    [
                        -91.507156,
                        40.40464
                    ],
                    [
                        -91.505053,
                        40.403284
                    ],
                    [
                        -91.499877,
                        40.402422
                    ],
                    [
                        -91.498017,
                        40.40199
                    ],
                    [
                        -91.493568,
                        40.402419
                    ],
                    [
                        -91.489361,
                        40.404514
                    ],
                    [
                        -91.487886,
                        40.404214
                    ],
                    [
                        -91.488291,
                        40.400887
                    ],
                    [
                        -91.489181,
                        40.39824
                    ],
                    [
                        -91.490799,
                        40.395221
                    ],
                    [
                        -91.490961,
                        40.393866
                    ],
                    [
                        -91.490233,
                        40.391586
                    ],
                    [
                        -91.486433,
                        40.386905
                    ],
                    [
                        -91.484824,
                        40.384563
                    ],
                    [
                        -91.482965,
                        40.382285
                    ],
                    [
                        -91.480135,
                        40.381605
                    ],
                    [
                        -91.474879,
                        40.382223
                    ],
                    [
                        -91.470674,
                        40.383083
                    ],
                    [
                        -91.464042,
                        40.385671
                    ],
                    [
                        -91.46283,
                        40.384561
                    ],
                    [
                        -91.463801,
                        40.381974
                    ],
                    [
                        -91.465743,
                        40.379081
                    ],
                    [
                        -91.465986,
                        40.377539
                    ],
                    [
                        -91.463884,
                        40.375445
                    ],
                    [
                        -91.452322,
                        40.375382
                    ],
                    [
                        -91.447664,
                        40.379766
                    ],
                    [
                        -91.443539,
                        40.384384
                    ],
                    [
                        -91.441193,
                        40.386352
                    ],
                    [
                        -91.434482,
                        40.384873
                    ],
                    [
                        -91.428095,
                        40.382902
                    ],
                    [
                        -91.42478,
                        40.382285
                    ],
                    [
                        -91.423002,
                        40.381362
                    ],
                    [
                        -91.419446,
                        40.378279
                    ],
                    [
                        -91.416424,
                        40.380827
                    ],
                    [
                        -91.415077,
                        40.381708
                    ],
                    [
                        -91.412766,
                        40.38239
                    ],
                    [
                        -91.406798,
                        40.382341
                    ],
                    [
                        -91.398328,
                        40.382977
                    ],
                    [
                        -91.391076,
                        40.384245
                    ],
                    [
                        -91.386005,
                        40.38576
                    ],
                    [
                        -91.382154,
                        40.387521
                    ],
                    [
                        -91.377917,
                        40.389912
                    ],
                    [
                        -91.375735,
                        40.391973
                    ],
                    [
                        -91.373295,
                        40.398178
                    ],
                    [
                        -91.372267,
                        40.402384
                    ],
                    [
                        -91.372458,
                        40.411281
                    ],
                    [
                        -91.373031,
                        40.415288
                    ],
                    [
                        -91.374123,
                        40.419051
                    ],
                    [
                        -91.376434,
                        40.424281
                    ],
                    [
                        -91.37797,
                        40.427217
                    ],
                    [
                        -91.379897,
                        40.432302
                    ],
                    [
                        -91.381695,
                        40.438168
                    ],
                    [
                        -91.381496,
                        40.446195
                    ],
                    [
                        -91.380405,
                        40.450791
                    ],
                    [
                        -91.37813,
                        40.455875
                    ],
                    [
                        -91.376203,
                        40.460321
                    ],
                    [
                        -91.372026,
                        40.467605
                    ],
                    [
                        -91.368681,
                        40.473431
                    ],
                    [
                        -91.365854,
                        40.480668
                    ],
                    [
                        -91.364513,
                        40.485613
                    ],
                    [
                        -91.363677,
                        40.491624
                    ],
                    [
                        -91.36387,
                        40.498369
                    ],
                    [
                        -91.366209,
                        40.506292
                    ],
                    [
                        -91.368652,
                        40.511915
                    ],
                    [
                        -91.384212,
                        40.530806
                    ],
                    [
                        -91.388175,
                        40.533099
                    ],
                    [
                        -91.391263,
                        40.533732
                    ],
                    [
                        -91.394414,
                        40.534369
                    ],
                    [
                        -91.399818,
                        40.536372
                    ],
                    [
                        -91.403098,
                        40.538279
                    ],
                    [
                        -91.404814,
                        40.540361
                    ],
                    [
                        -91.406165,
                        40.542657
                    ],
                    [
                        -91.406938,
                        40.547448
                    ],
                    [
                        -91.40636,
                        40.552431
                    ],
                    [
                        -91.405203,
                        40.554634
                    ],
                    [
                        -91.403338,
                        40.557372
                    ],
                    [
                        -91.401725,
                        40.559232
                    ],
                    [
                        -91.392073,
                        40.566124
                    ],
                    [
                        -91.38242,
                        40.572575
                    ],
                    [
                        -91.379813,
                        40.574356
                    ],
                    [
                        -91.372475,
                        40.585061
                    ],
                    [
                        -91.369192,
                        40.589606
                    ],
                    [
                        -91.362016,
                        40.599048
                    ],
                    [
                        -91.359749,
                        40.601894
                    ],
                    [
                        -91.353697,
                        40.60693
                    ],
                    [
                        -91.348658,
                        40.609755
                    ],
                    [
                        -91.335521,
                        40.615083
                    ],
                    [
                        -91.321571,
                        40.620491
                    ],
                    [
                        -91.311716,
                        40.624399
                    ],
                    [
                        -91.307252,
                        40.626055
                    ],
                    [
                        -91.298814,
                        40.627813
                    ],
                    [
                        -91.285593,
                        40.630027
                    ],
                    [
                        -91.274063,
                        40.632615
                    ],
                    [
                        -91.265836,
                        40.633667
                    ],
                    [
                        -91.264218,
                        40.634064
                    ],
                    [
                        -91.258288,
                        40.636651
                    ],
                    [
                        -91.255189,
                        40.637475
                    ],
                    [
                        -91.253318,
                        40.637875
                    ],
                    [
                        -91.251027,
                        40.638192
                    ],
                    [
                        -91.249535,
                        40.638214
                    ],
                    [
                        -91.247749,
                        40.638374
                    ],
                    [
                        -91.233226,
                        40.638109
                    ],
                    [
                        -91.231439,
                        40.638142
                    ],
                    [
                        -91.22589,
                        40.638465
                    ],
                    [
                        -91.218715,
                        40.63846
                    ],
                    [
                        -91.209926,
                        40.637849
                    ],
                    [
                        -91.200477,
                        40.636122
                    ],
                    [
                        -91.190152,
                        40.636647
                    ],
                    [
                        -91.183676,
                        40.638771
                    ],
                    [
                        -91.157135,
                        40.652198
                    ],
                    [
                        -91.149717,
                        40.655569
                    ],
                    [
                        -91.146848,
                        40.656712
                    ],
                    [
                        -91.137924,
                        40.660879
                    ],
                    [
                        -91.136135,
                        40.662029
                    ],
                    [
                        -91.130185,
                        40.665694
                    ],
                    [
                        -91.124829,
                        40.668868
                    ],
                    [
                        -91.123814,
                        40.669082
                    ],
                    [
                        -91.121959,
                        40.671284
                    ],
                    [
                        -91.121014,
                        40.672585
                    ],
                    [
                        -91.120173,
                        40.674257
                    ],
                    [
                        -91.119084,
                        40.678098
                    ],
                    [
                        -91.118317,
                        40.681489
                    ],
                    [
                        -91.11735,
                        40.685256
                    ],
                    [
                        -91.116361,
                        40.68865
                    ],
                    [
                        -91.11529,
                        40.6921
                    ],
                    [
                        -91.112639,
                        40.696054
                    ],
                    [
                        -91.111894,
                        40.697037
                    ],
                    [
                        -91.111557,
                        40.699254
                    ],
                    [
                        -91.111092,
                        40.702502
                    ],
                    [
                        -91.110963,
                        40.706219
                    ],
                    [
                        -91.111132,
                        40.708428
                    ],
                    [
                        -91.112853,
                        40.715637
                    ],
                    [
                        -91.113876,
                        40.719734
                    ],
                    [
                        -91.115038,
                        40.72169
                    ],
                    [
                        -91.11577,
                        40.724138
                    ],
                    [
                        -91.115727,
                        40.724953
                    ],
                    [
                        -91.114177,
                        40.731345
                    ],
                    [
                        -91.112169,
                        40.738707
                    ],
                    [
                        -91.11016,
                        40.746416
                    ],
                    [
                        -91.108693,
                        40.750336
                    ],
                    [
                        -91.101546,
                        40.758358
                    ],
                    [
                        -91.099999,
                        40.760725
                    ],
                    [
                        -91.097932,
                        40.763301
                    ],
                    [
                        -91.096166,
                        40.76692
                    ],
                    [
                        -91.094917,
                        40.770997
                    ],
                    [
                        -91.094133,
                        40.772479
                    ],
                    [
                        -91.09241,
                        40.776786
                    ],
                    [
                        -91.091756,
                        40.779243
                    ],
                    [
                        -91.091282,
                        40.783091
                    ],
                    [
                        -91.091177,
                        40.785693
                    ],
                    [
                        -91.091651,
                        40.790781
                    ],
                    [
                        -91.093241,
                        40.795162
                    ],
                    [
                        -91.095438,
                        40.799239
                    ],
                    [
                        -91.097081,
                        40.802455
                    ],
                    [
                        -91.097167,
                        40.803597
                    ],
                    [
                        -91.097555,
                        40.805293
                    ],
                    [
                        -91.097549,
                        40.808192
                    ],
                    [
                        -91.097334,
                        40.809657
                    ],
                    [
                        -91.096299,
                        40.813018
                    ],
                    [
                        -91.095391,
                        40.81559
                    ],
                    [
                        -91.092891,
                        40.821265
                    ],
                    [
                        -91.08994,
                        40.824746
                    ],
                    [
                        -91.082404,
                        40.829738
                    ],
                    [
                        -91.073851,
                        40.83651
                    ],
                    [
                        -91.070561,
                        40.839347
                    ],
                    [
                        -91.06746,
                        40.841731
                    ],
                    [
                        -91.064409,
                        40.84351
                    ],
                    [
                        -91.061907,
                        40.844794
                    ],
                    [
                        -91.058556,
                        40.846423
                    ],
                    [
                        -91.056372,
                        40.848328
                    ],
                    [
                        -91.050424,
                        40.858152
                    ],
                    [
                        -91.048035,
                        40.863411
                    ],
                    [
                        -91.047123,
                        40.865078
                    ],
                    [
                        -91.044341,
                        40.868849
                    ],
                    [
                        -91.037355,
                        40.874866
                    ],
                    [
                        -91.029253,
                        40.878078
                    ],
                    [
                        -91.021247,
                        40.88413
                    ],
                    [
                        -91.012842,
                        40.897202
                    ],
                    [
                        -91.008356,
                        40.901717
                    ],
                    [
                        -90.99857,
                        40.908438
                    ],
                    [
                        -90.992935,
                        40.909633
                    ],
                    [
                        -90.986409,
                        40.911725
                    ],
                    [
                        -90.979685,
                        40.915305
                    ],
                    [
                        -90.971675,
                        40.918143
                    ],
                    [
                        -90.967324,
                        40.920087
                    ],
                    [
                        -90.963732,
                        40.923657
                    ],
                    [
                        -90.961851,
                        40.927616
                    ],
                    [
                        -90.961452,
                        40.933519
                    ],
                    [
                        -90.959074,
                        40.939794
                    ],
                    [
                        -90.952101,
                        40.954209
                    ],
                    [
                        -90.951901,
                        40.959292
                    ],
                    [
                        -90.953481,
                        40.965117
                    ],
                    [
                        -90.958209,
                        40.977188
                    ],
                    [
                        -90.957951,
                        40.979667
                    ],
                    [
                        -90.955969,
                        40.985119
                    ],
                    [
                        -90.967746,
                        40.98572
                    ],
                    [
                        -91.007034,
                        40.978623
                    ],
                    [
                        -91.041989,
                        40.964428
                    ],
                    [
                        -91.073458,
                        40.953082
                    ],
                    [
                        -91.079984,
                        40.944102
                    ],
                    [
                        -91.080476,
                        40.936032
                    ],
                    [
                        -91.085328,
                        40.932172
                    ],
                    [
                        -91.099198,
                        40.929171
                    ],
                    [
                        -91.122261,
                        40.93384
                    ],
                    [
                        -91.122716,
                        40.919521
                    ],
                    [
                        -91.170048,
                        40.913946
                    ],
                    [
                        -91.179747,
                        40.913759
                    ],
                    [
                        -91.186431,
                        40.906492
                    ],
                    [
                        -91.208534,
                        40.923232
                    ],
                    [
                        -91.218398,
                        40.925265
                    ],
                    [
                        -91.227134,
                        40.913776
                    ],
                    [
                        -91.23414,
                        40.905768
                    ],
                    [
                        -91.270096,
                        40.922715
                    ],
                    [
                        -91.280436,
                        40.972748
                    ],
                    [
                        -91.306682,
                        40.972865
                    ],
                    [
                        -91.315482,
                        40.973781
                    ],
                    [
                        -91.352233,
                        40.986726
                    ],
                    [
                        -91.371352,
                        40.985832
                    ],
                    [
                        -91.39897,
                        40.986637
                    ],
                    [
                        -91.410351,
                        40.986865
                    ],
                    [
                        -91.435549,
                        40.987077
                    ],
                    [
                        -91.458398,
                        40.987432
                    ],
                    [
                        -91.457978,
                        40.972838
                    ],
                    [
                        -91.457939,
                        40.959336
                    ],
                    [
                        -91.486467,
                        40.947987
                    ],
                    [
                        -91.457156,
                        40.937122
                    ],
                    [
                        -91.457021,
                        40.92884
                    ],
                    [
                        -91.458765,
                        40.904487
                    ],
                    [
                        -91.487805,
                        40.899706
                    ],
                    [
                        -91.483643,
                        40.872
                    ],
                    [
                        -91.478371,
                        40.865525
                    ],
                    [
                        -91.487042,
                        40.860044
                    ],
                    [
                        -91.487699,
                        40.856225
                    ],
                    [
                        -91.500542,
                        40.856719
                    ],
                    [
                        -91.517628,
                        40.854819
                    ],
                    [
                        -91.517654,
                        40.856838
                    ],
                    [
                        -91.518302,
                        40.857853
                    ],
                    [
                        -91.519651,
                        40.859033
                    ],
                    [
                        -91.520947,
                        40.859561
                    ],
                    [
                        -91.522658,
                        40.860133
                    ],
                    [
                        -91.523539,
                        40.860527
                    ],
                    [
                        -91.525355,
                        40.861918
                    ],
                    [
                        -91.527005,
                        40.864255
                    ],
                    [
                        -91.528873,
                        40.866413
                    ],
                    [
                        -91.530507,
                        40.867629
                    ],
                    [
                        -91.53476,
                        40.871079
                    ],
                    [
                        -91.536057,
                        40.872787
                    ],
                    [
                        -91.536446,
                        40.874002
                    ],
                    [
                        -91.537388,
                        40.878657
                    ],
                    [
                        -91.538582,
                        40.882425
                    ],
                    [
                        -91.539594,
                        40.883897
                    ],
                    [
                        -91.542848,
                        40.886339
                    ],
                    [
                        -91.545702,
                        40.888047
                    ],
                    [
                        -91.546688,
                        40.889577
                    ],
                    [
                        -91.547363,
                        40.89095
                    ],
                    [
                        -91.548794,
                        40.893082
                    ],
                    [
                        -91.549625,
                        40.893869
                    ],
                    [
                        -91.551207,
                        40.894849
                    ],
                    [
                        -91.553258,
                        40.896417
                    ],
                    [
                        -91.553647,
                        40.896692
                    ],
                    [
                        -91.554737,
                        40.89671
                    ],
                    [
                        -91.555503,
                        40.896738
                    ],
                    [
                        -91.592929,
                        40.895327
                    ],
                    [
                        -91.603035,
                        40.894496
                    ],
                    [
                        -91.612827,
                        40.898296
                    ],
                    [
                        -91.622776,
                        40.898254
                    ],
                    [
                        -91.622525,
                        40.894308
                    ],
                    [
                        -91.632605,
                        40.894554
                    ],
                    [
                        -91.693344,
                        40.889975
                    ],
                    [
                        -91.703317,
                        40.895381
                    ],
                    [
                        -91.718169,
                        40.90013
                    ],
                    [
                        -91.71862,
                        40.879386
                    ],
                    [
                        -91.701707,
                        40.868334
                    ],
                    [
                        -91.721368,
                        40.800273
                    ],
                    [
                        -91.776193,
                        40.81293
                    ],
                    [
                        -91.806517,
                        40.761003
                    ],
                    [
                        -91.834057,
                        40.756438
                    ],
                    [
                        -91.833817,
                        40.741047
                    ],
                    [
                        -91.833814,
                        40.731225
                    ],
                    [
                        -91.831602,
                        40.722696
                    ],
                    [
                        -91.831912,
                        40.694627
                    ],
                    [
                        -91.804088,
                        40.674154
                    ],
                    [
                        -91.808582,
                        40.654286
                    ],
                    [
                        -91.80984,
                        40.652845
                    ],
                    [
                        -91.811712,
                        40.646134
                    ],
                    [
                        -91.830206,
                        40.62397
                    ],
                    [
                        -91.824548,
                        40.610114
                    ],
                    [
                        -91.769902,
                        40.611972
                    ],
                    [
                        -91.746347,
                        40.612879
                    ],
                    [
                        -91.729012,
                        40.613615
                    ],
                    [
                        -91.722823,
                        40.605126
                    ],
                    [
                        -91.720844,
                        40.602612
                    ],
                    [
                        -91.718672,
                        40.600389
                    ],
                    [
                        -91.712158,
                        40.595034
                    ],
                    [
                        -91.705537,
                        40.591906
                    ],
                    [
                        -91.701124,
                        40.590073
                    ],
                    [
                        -91.69718,
                        40.588527
                    ],
                    [
                        -91.692984,
                        40.586118
                    ],
                    [
                        -91.688752,
                        40.583073
                    ],
                    [
                        -91.686605,
                        40.580677
                    ],
                    [
                        -91.685387,
                        40.579034
                    ]
                ]
            }
        },

        {
            "type": "Feature",
            "properties": {
                "name": "22800",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -80.851039,
                    35.175758
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "45934",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -84.554648,
                    41.655176
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "45934",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -84.554648,
                    41.655176
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "50023",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -93.629975,
                    41.734559
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "50099",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -93.88248,
                    42.064236
                ]
            }
        },
//        {
//            "type": "Feature",
//            "properties": {
//                "name": "50307",
//                "sym": ""
//            },
//            "geometry": {
//                "type": "Point",
//                "coordinates": [
//                    -93.278842,
//                    44.785383
//                ]
//            }
//        },
        {
            "type": "Feature",
            "properties": {
                "name": "50308",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -94.426662,
                    42.290598
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "50324",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -93.712538,
                    41.62934
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "52734",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -90.185749,
                    41.843416
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "22400",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -79.153457,
                    37.992633
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "21260",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -76.604629,
                    39.291237
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "23453",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -76.072898,
                    36.785964
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "20598",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -77.086779,
                    38.840574
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "542 Industrial Dr, Lewisberry, PA 17339",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -76.837224,
                    40.167465
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "2125 28th St SW, Allentown, PA 18103",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -75.482873,
                    40.562537
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "167 Centerpoint Blvd, Pittston, PA 18640",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -75.758074,
                    41.298715
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "421 Feheley Dr, King of Prussia, PA 19406",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -75.339008,
                    40.091848
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "250 Corporate Blvd, Newark, DE 19702",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -75.751149,
                    39.616443
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "530 Lycoming Mall Dr, Muncy, PA 17756",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -76.815231,
                    41.236215
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "412 E 6th Ave, Altoona, PA 16602",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -78.384036,
                    40.525937
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "406 Bloomfield Dr, West Berlin, NJ 08091",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -74.926369,
                    39.814494
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "503 S Maryland Ave, Delmar, MD 21875",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -75.580264,
                    38.451438
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "40 Grossett Dr, Kirkwood, NY 13795",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -75.81482,
                    42.0867
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "9115 Whiskey Bottom Rd, Laurel, MD 20723",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -76.829171,
                    39.114735
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "2726 Pittman Dr, Silver Spring, MD 20910",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -77.057019,
                    39.001268
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "2535 Mechanicsville Tpke, Richmond, VA 23223",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -77.407292,
                    37.560177
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "3750 Progress Rd, Norfolk, VA 23502",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -76.237253,
                    36.863122
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "212 Fort Collier Rd, Winchester, VA 22603",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -78.146742,
                    39.196526
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "1358 Roanoke Blvd, Salem, VA 24153",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -80.035836,
                    37.280108
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "777 Dearborn Park Ln, Columbus, OH 43085",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -82.996306,
                    40.116132
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "878 Dryden Rd, Zanesville, OH 43701",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -82.027013,
                    39.92666
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "1163 Holiday Dr, Kent, OH 44240",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -81.35049,
                    41.108771
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "31351 Lorain Rd, North Olmsted, OH 44070",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -81.967092,
                    41.392244
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "1810 Eber Rd, Holland, OH 43528",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -83.786402,
                    41.607105
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "4623 Clyde Park Ave SW, Wyoming, MI 49509",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -85.684511,
                    42.880283
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "3 Craddock Way, Poca, WV 25159",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -81.820687,
                    38.453757
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "203 Greenbag Rd, Morgantown, WV 26501",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -79.959187,
                    39.608612
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "10930 Justin Dr, Urbandale, IA 50322",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -93.767118,
                    41.625942
                ]
            }
        },
        {
            "type": "Feature",
            "properties": {
                "name": "Penn State-Brandywine",
                "desc": "25 Yearsley Mill Rd^Media PA 19063^United States^Tel: +1 (610) 892-1200",
                "sym": ""
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -75.446413,
                    39.926065
                ]
            }
        }
    ]
};
                  
  L.geoJson(geojsonFeature, {
    onEachFeature: onEachFeature
  }).addTo(map);

/// End of Geojson and Leaflet

  L.tileLayer('https://api.tiles.mapbox.com/v4/{mapID}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org"/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
    mapID: 'i601254.15mj5o41',
    accessToken: 'pk.eyJ1IjoiaTYwMTI1NCIsImEiOiJjaXMyN2FvN3AwMDJmMnpsa3d6dGh4MXZqIn0.3ZFXal84sFTUTOziIXO9NA'
  }).addTo(map);
 
//  L.marker([40.1668141, -76.8388169], {icon: redMarker} ).addTo(map);	// Installation location also used as center point of map

// Draw circle around center point with 5 mile radius
  L.circle([40.1668141, -76.8388169], (5*mileTometer), {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.2
  }).addTo(map);

// Draw circle around center point with 10 mile radius
//  L.circle([40.1668141, -76.8388169], (10*mileTometer), {
//    color: 'blue',
//    fillColor: '',
//    fillOpacity: 0.0
//  }).addTo(map);

// Draw circle around center point with 20 mile radiu
//  L.circle([40.1668141, -76.8388169], (20*mileTometer), {
//    color: 'orange',
//    fillColor: '',
//    fillOpacity: 0.0
//  }).addTo(map);

// Add legend to map for circles
  var legend = L.control({position: 'bottomright'});
  legend.onAdd = function (map) {
    var div = L.DomUtil.create('div', 'info legend');

    categories = ['5 Mile', '10 Mile', '20 Mile'];
    for (var i=0; i < categories.length; i++) {
      div.innerHTML +=
        '<i style="background:' + getColor(categories[i]) + '"></i> ' +
        (categories[i] ? categories[i] + '<br>' : '+');
    }

    return div;
    };
    legend.addTo(map);

function getColor(categories) {
  return categories = '5 Mile' ? '#80026' :
         categories = '10 Mile' ? 'blue' :
                                  'orange';
}

// Markers for random locations to simulate service requests
//  var markers = [
//    [40.152240, -76.966627, "Location 1"],
//    [40.227363, -76.894572, "Location 2"],
//    [40.262295, -76.825336, "Location 3"],
//    [40.107615, -76.859768, "Location 4"]
//  ];

//  for (var i=0; i<markers.length; i++) {
           
//            var lat = markers[i][0];
//            var lon = markers[i][1];
//            var popupText = markers[i][2];
//
//            var markerLocation = new L.LatLng(lat, lon);
//            var marker = new L.marker(markerLocation);
//            map.addLayer(marker);

//            marker.bindPopup(popupText);
//  }
};

